---
date: 2007-02-11
category: technical
readtime: true
---
<img src="/pics/cache1.jpg" class="img-responsive" />

<p>Mobile application programming!</p>
<br /><br />Last week I started off an adventure of trying to get <a href="http://www.geocaching.com">cache information</a> appearing on my mobile. This was because whenever I went out geocaching, I would print off a bunch of sheets of paper containing the cache information. I was burning through lots of paper :) So I figured what I needed to do was to get hold of a small text reader, chuck it on the phone, and bam, we'd be in business.<br /><br />Of course, things are never that simple. <br /><br />Next I tried out a bunch of applications from <a href="http://sourceforge.net">SourceForge</a>, but nothing really did what I wanted it to do. Half of the apps didn't work on my phone and the other half were a bit strange. <br /><br />A while ago, a friend who has done a bit of mobile development (using Java) showed me the bare basics. Turns out you need to use a Java library named <a href="http://java.sun.com/javame/index.jsp">J2ME</a> to get stuff working on your mobile. It's just a cut down version of the standard API. So I downloaded the <a href="http://java.sun.com/products/sjwtoolkit/">Java Wireless Toolkit</a> which is apparently what you need - it includes the mobile phone emulator and a couple of other tools, and then ran through a <a href="http://today.java.net/pub/a/today/2005/02/09/j2me1.html">great tutorial</a>. Things are actually pretty simple. Sort of.<br /><br />But just trying to get the damn thing working was a complete pain! First off I tried it with using JDK 1.6 (the latest version). It didn't work. Then I tried JDK 1.4. That didn't work. So the only option left was <a href="http://java.sun.com/javase/downloads/index_jdk5.jsp">JDK 1.5</a>, which was actually the 'recommended' one. Of course JDK1.5 didn't actually want to install on my PC! The stupid thing just kept on hanging!! ARHGHGHGH!<br /><br />So anyway, after stuffing around, trying to reinstall it a bunch of times and uninstalling other things I got it installed. Sort of. Either way, the Wireless toolkit stuff works and I can now write J2ME apps ok (I think)!<br /><br />But just trying to get the damn thing working was a complete pain! First off I tried it with using JDK 1.6 (the latest version). It didn't work. Then I tried JDK 1.4. That didn't work. So the only option left was <a href="http://java.sun.com/javase/downloads/index_jdk5.jsp">JDK 1.5</a>, which was actually the 'recommended' one. Of course JDK1.5 didn't actually want to install on my PC! The stupid thing just kept on hanging!! ARHGHGHGH!<br /><br />So anyway, after stuffing around, trying to reinstall it a bunch of times and uninstalling other things I got it installed. Sort of. Either way, the Wireless toolkit stuff works and I can now write J2ME apps ok (I think).<br /><br />

<img src="/pics/cache2.jpg" class="img-responsive" />

<p>So what does my program do?</p><br /><br />Well, all I want the program to do is to be able to display a list of caches, and then to be able to select one, and then view its details.  Writing this code was pretty straightforwarded. <br /><br />The hard part was that I wanted to be able to store the cache details in a separate text file ("caches.txt") so that I could periodically update this file whenever I go out caching. This was going to be tricky, because it meant that I needed to store the file on the SDCard of the phone, and then read the thing in at run-time.<br /><br />This wasn't as easy as you might think, because the standard API doesn't actually have disk access! I guess that this is because when J2ME first started out, most mobiles didn't actually have any form of filesystem. Fortunately they do now, and there's a filesystem API available under the name "JSR 75" - which is a god thing because that makes it so easy to find (sarcasm off).<br /><br />Then the other tricky part was working out how the Nokia phones then let you access their SDCard! Nokia fortunately have some really great reference documentation for <a href="http://forum.nokia.com/main/platforms/s40/">programming their mobiles</a> which was really helpful. Turns out they defined a system property which tells you the path for accessing the SDCard on their mobiles. Cool!<br /><br />So as you can see in the attached screenshots, (or photo's, I really should say), I got the damn thing working! I am the J2ME master!<br /><br />

<img src="/pics/cache3.jpg" class="img-responsive" />

<p>Now to see if anyone actually cares about the program :) I've posted a few messages on a few forum's, but most people don't seem to be too interested as yet :( Oh well!</p>