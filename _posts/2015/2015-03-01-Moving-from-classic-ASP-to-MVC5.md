---
date: 2015-03-01
category: technical
readtime: true
---
So the past few weeks I've been re-writing my website. Previously it was written in Classic ASP (yes, you read that right) and it was running off a Microsoft <b>Access</b> database. Yes, you read that right too.<br /><br />The code has served me well since I launched in 2006, and can I point out, that was NINE years ago. I have to salute classic ASP for doing a pretty bang up job. The site rarely went down, it was never hacked (apart from a mountain of comment spam) and it was all-in-all, pretty good fun.<br /><br />But the past couple of years has seen a huge improvement in website coding. It's all so much <b>easier</b> and more fun now, so I figured I might as well rewrite it in ASP.NET and move it to MVC. So here's the full stack of technologies:<br /><br /><ul><li>Bootstrap for the front end - fantastic library once you get your head around it</li><br /><li>JQuery for the little ajaxed archive box over to the right</li><br /><li>ASP.NET MVC4 for the back end</li><br /><li>Entity framework for talking to the DB</li><br /><li>SQL Server for the DB</li></ul><br />The whole thing was coded using Visual Studio community edition and SQL Server express. Half was written on my desktop, and the other half was written on my MacBook air running a windows 7 VM using <a href="http://www.parallels.com">Parallels</a> - a process that ran surprisingly well. I synced the code between the two machines using <a href="http://git-scm.com/downloads">Git Gui</a>, another process that ran surprisingly well.<br /><br />So what's great about the new technology stack and what's not so great?<br /><br /><h3>Friendly URLs - <span style="padding: 0 20px 0 20px; color: white; background: green">Good</span></h3>
Nice URLs in classic ASP weren't impossible, but they weren't exactly easy. Nice URLs in Webforms was possibly even harder! But in MVC... URLs can be super, super friendly. The routing options are many and super variable, and it's all pretty cool. It's quite fiddly to setup, but it's pretty powerful and very nice. You'll see that each blog entry URL on this site has the format /year/month/title. Easy to setup and makes a lot of sense.<br /><br /><h3>Entity Framework <span style="padding: 0 20px 0 20px; color: white; background: green">Good</span></h3>
I love the entity framework. For basic CRUD operations it's a life saver. Super easy to setup and use, it's amazing. If you've never had to go down the whole "1 stored proc for each database query" you have <b>no idea</b> just how much time you're saving. For anything more complicated than simple queries I'll be using stored procs (stored procs are ace) but for the basics, Entity Framework is awesome.<br /><br /><h3>Javascript + CSS bundling and minification <span style="padding: 0 20px 0 20px; color: white; background: green">Good</span></h3>
I love bundling and minifying my javascript and CSS. Your site loads quicker, it uses less bandwidth, it's a win-win. The new <a href="http://www.asp.net/mvc/overview/performance/bundling-and-minification">bundling and minifying</a> libraries are awesome. Easy to setup and use and do the job perfectly. Great job microsoft.<br /><br />What's not so great?<br /><br /><h3>Config Files <span style="padding: 0 20px 0 20px; color: white; background: red">Bad</span></h3>
Haven't we learnt enough from the horror that is Java??? I was super happy to move away from Java 10 years ago. It had become XML configuration file hell. The web.config file is great, but boy can it be over-complicated. On top of that a typical MVC project can have <b>multiple</b> web.config files (mine has 3). As far as I know there's no nice easy to read reference for the web.config file format, and I'm <b>always</b> discovering more undocumented "features" that need to be set. (<b><a style="word-wrap: break-word;" href="http://stackoverflow.com/questions/2880383/strange-error-occurring-when-using-wcf-to-run-query-against-sql-server/11531518">minFreeMemoryPercentageToActivateService</a></b> I'm looking at you). Please, Microsoft, continue simplifying the web.config file, not complicating it.<br /><br /><h3>Project Layout <span style="padding: 0 20px 0 20px; color: white; background: red">Bad</span></h3>
MVC straightjackets you into a particular project layout. You basically <b>have</b> to put your Controllers into /Controllers, your Views into /Views, your javascript into /Scripts, etc etc etc. Now I'm <b>well aware</b> that technically you don't have to, but if you want NuGet to play properly and if you want Visual Studio to play properly, you're going to have to meet it halfway. This is not a lot of fun, especially when the standard layout is pretty, erm, weird. Adding <a href="https://msdn.microsoft.com/en-us/library/ee671793%28v=vs.100%29.aspx?f=255&MSPPError=-2147217396">areas</a> to your project just makes it more confusing. Not cool.<br /><br /><h3>NuGet <span style="padding: 0 20px 0 20px; color: white; background: red">Bad</span></h3>
Ok I'm going out on a limb here. I'm not crazy about NuGet. It does weird things to your project without telling you what it's done. Trying to find the "official" or "right" version of a library is difficult. Trying to figure out dependencies (and dependencies of dependencies) is even more difficult. <br /><br />Ok end of whinge.<br /><br />Big thanks to the master of security <a href="http://www.troyhunt.com/">Troy Hunt</a> for his excellent <a href="https://asafaweb.com">security scanning tool</a> which I've run the website through. <br /><br />Are there any other libraries or tools that I should be considering?